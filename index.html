<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>Sim File Parser</title>
  </head>

  <body>
	<input type="file" id="file_selector" onchange="handleFile()"></input>
	
	<div id="editor">
	</div>
	
	<script src="src/util/parser.js"></script>
	<script src="src/models/sim_file.js"></script>
	
	<script>
		function handleFile() {
			getFileContents();
		}
		
		function getFileContents() {
			input = document.getElementById('file_selector');
			file = input.files[0];
			fr = new FileReader();
			fr.onload = fileFinishedLoading;
			fr.readAsText(file);
		}
		
		function fileFinishedLoading() {       
			document.getElementById("editor").innerHTML = fr.result;
	        parseSimFileContents(fr.result);
           	
		 }  
        
	</script>
  </body>
</html>